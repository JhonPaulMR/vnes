<!-- Container principal com o estilo retro do projeto -->
<div class="min-h-screen flex flex-col items-center justify-center p-4 font-['Pixelify_Sans'] text-white">
  <div class="w-full max-w-md bg-white-900 border-4 border-red-600 p-6 shadow-lg">

    <!-- Seletor para alternar entre Login e Registo -->
    <div class="flex border-b-4 border-red-700 mb-6">
      <button (click)="toggleView(true)" [ngClass]="{
          'bg-red-700 border-red-600 text-red': isLoginView,
          'bg-transparent border-transparent text-gray-400 hover:text-white': !isLoginView
        }" class="flex-1 py-2 text-lg font-bold uppercase tracking-widest border-b-4 hover:bg-red-700 transition-colors duration-200">
        Login
      </button>
      <button (click)="toggleView(false)" [ngClass]="{
          'bg-red-700 border-red-600 text-red': !isLoginView,
          'bg-transparent border-transparent text-gray-400 hover:text-white': isLoginView
        }" class="flex-1 py-2 text-lg font-bold uppercase tracking-widest border-b-4 hover:bg-red-700 transition-colors duration-200">
        Register
      </button>
    </div>

    <!-- Formulário de Login -->
    <div *ngIf="isLoginView">
      <h2 class="text-3xl font-bold mb-6 text-center uppercase tracking-widest">Player Login</h2>
      <form [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()" novalidate>
        <div class="mb-4">
          <label for="login-email" class="block mb-2 uppercase font-bold text-sm">Email</label>
          <input id="login-email" type="email" formControlName="email" class="w-full p-2 bg-gray-700 border-2 border-gray-500 text-white focus:outline-none focus:border-red-600">
          <div *ngIf="loginEmail?.invalid && (loginEmail?.dirty || loginEmail?.touched)" class="text-red-400 text-xs mt-1">
            <p *ngIf="loginEmail?.errors?.['required']">Email é obrigatório.</p>
            <p *ngIf="loginEmail?.errors?.['email']">Por favor, insira um email válido.</p>
          </div>
        </div>
        <div class="mb-6">
          <label for="login-password" class="block mb-2 uppercase font-bold text-sm">Password</label>
          <input id="login-password" type="password" formControlName="password" class="w-full p-2 bg-gray-700 border-2 border-gray-500 text-white focus:outline-none focus:border-red-600">
        </div>
        <button type="submit" [disabled]="loginForm.invalid" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 uppercase tracking-widest disabled:bg-gray-500 disabled:cursor-not-allowed">
          Login
        </button>
      </form>
    </div>

    <!-- Formulário de Registo -->
    <div *ngIf="!isLoginView">
      <h2 class="text-3xl font-bold mb-6 text-center uppercase tracking-widest">Create Account</h2>
      <form [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()" novalidate>
        <div class="mb-4">
          <label for="register-username" class="block mb-2 uppercase font-bold text-sm">Username</label>
          <input id="register-username" type="text" formControlName="username" class="w-full p-2 bg-gray-700 border-2 border-gray-500 text-white focus:outline-none focus:border-red-600">
          <div *ngIf="registerUsername?.invalid && (registerUsername?.dirty || registerUsername?.touched)" class="text-red-400 text-xs mt-1">
            <p *ngIf="registerUsername?.errors?.['required']">Username é obrigatório.</p>
            <p *ngIf="registerUsername?.errors?.['minlength']">Username deve ter no mínimo 3 caracteres.</p>
          </div>
        </div>
        <div class="mb-4">
          <label for="register-email" class="block mb-2 uppercase font-bold text-sm">Email</label>
          <input id="register-email" type="email" formControlName="email" class="w-full p-2 bg-gray-700 border-2 border-gray-500 text-white focus:outline-none focus:border-red-600">
          <div *ngIf="registerEmail?.invalid && (registerEmail?.dirty || registerEmail?.touched)" class="text-red-400 text-xs mt-1">
            <p *ngIf="registerEmail?.errors?.['required']">Email é obrigatório.</p>
            <p *ngIf="registerEmail?.errors?.['email']">Por favor, insira um email válido.</p>
          </div>
        </div>
        <div class="mb-4">
          <label for="register-password" class="block mb-2 uppercase font-bold text-sm">Password</label>
          <input id="register-password" type="password" formControlName="password" class="w-full p-2 bg-gray-700 border-2 border-gray-500 text-white focus:outline-none focus:border-red-600">
          <div *ngIf="registerPassword?.invalid && (registerPassword?.dirty || registerPassword?.touched)" class="text-red-400 text-xs mt-1">
            <p *ngIf="registerPassword?.errors?.['required']">Password é obrigatória.</p>
            <p *ngIf="registerPassword?.errors?.['minlength']">A password deve ter no mínimo 8 caracteres.</p>
            <p *ngIf="registerPassword?.errors?.['pattern']">A password deve conter uma letra maiúscula, uma minúscula e um número.</p>
          </div>
        </div>
        <div class="mb-6">
          <label for="confirm-password" class="block mb-2 uppercase font-bold text-sm">Confirm Password</label>
          <input id="confirm-password" type="password" formControlName="confirmPassword" class="w-full p-2 bg-gray-700 border-2 border-gray-500 text-white focus:outline-none focus:border-red-600">
          <div *ngIf="registerForm.errors?.['passwordMismatch'] && (registerConfirmPassword?.dirty || registerConfirmPassword?.touched)" class="text-red-400 text-xs mt-1">
            <p>As passwords não coincidem.</p>
          </div>
        </div>
        <button type="submit" [disabled]="registerForm.invalid" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 uppercase tracking-widest disabled:bg-gray-500 disabled:cursor-not-allowed">
          Register
        </button>
      </form>
    </div>

  </div>
</div>
